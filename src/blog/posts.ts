// This file is auto-generated. Do not edit manually.
// Run: npm run build:posts

import { marked } from "marked";

export interface Post {
	slug: string;
	title: string;
	date: string;
	description: string;
	content: string;
}

type PostMeta = Omit<Post, "content">;

const postsData: PostMeta[] = [
	{
		"slug": "hello-world",
		"title": "Hello World - ブログはじめました",
		"date": "2025-01-15",
		"description": "技術ブログを始めました。このサイトの技術スタックと、これから書いていきたいことについて。"
	},
	{
		"slug": "article-draft",
		"title": "Hono + Cloudflare Workers で作るモダンなポートフォリオサイト",
		"date": "2025-01-12",
		"description": "次世代Webフレームワーク Hono と Cloudflare Workers を使ったポートフォリオサイト構築の全記録。"
	},
	{
		"slug": "building-portfolio",
		"title": "ポートフォリオサイトを作った話",
		"date": "2025-01-10",
		"description": "Cloudflare Workers + Hono でポートフォリオサイトを構築しました。技術選定の理由から実装のポイントまで解説します。"
	},
	{
		"slug": "architecture",
		"title": "ポートフォリオサイト アーキテクチャ概要",
		"date": "2025-01-08",
		"description": "Hono + Cloudflare Workers で構築したポートフォリオサイトのアーキテクチャを図解と共に解説します。"
	},
	{
		"slug": "css-serving-issues",
		"title": "Cloudflare Workers での CSS 配信問題と解決策",
		"date": "2025-01-07",
		"description": "Cloudflare Workers 環境で静的ファイル（CSS）を配信する際に遭遇した問題と、その解決方法を詳しく解説します。"
	},
	{
		"slug": "dev-notes",
		"title": "開発ノート",
		"date": "2025-01-05",
		"description": "ポートフォリオサイト開発時のメモ。技術選定、コマンド、改善候補などをまとめています。"
	}
];

const markdownContents: Record<string, string> = {
	"hello-world": "## はじめまして\n\nこんにちは、Hiroto Furugen です。このたび技術ブログを始めました。\n\n普段はWeb開発を中心に活動しており、主にフロントエンド・バックエンド両方を触っています。このブログでは、日々の開発で学んだことや、試してみた技術について書いていく予定です。\n\n## このブログの技術スタック\n\nせっかくなので、このブログ自体がどんな技術で動いているかを紹介します。\n\n### コア技術\n\n| 技術 | 用途 |\n|------|------|\n| **Hono** | Webフレームワーク |\n| **Cloudflare Workers** | ホスティング・実行環境 |\n| **TypeScript** | 型安全な開発 |\n| **Tailwind CSS** | スタイリング |\n\n### なぜこの構成？\n\n> 「シンプルで、速くて、維持しやすい」\n\nこれが選定の基準でした。\n\n**Hono** は超軽量なWebフレームワークで、Cloudflare Workersとの相性が抜群です。Express.jsライクなAPIなので学習コストも低く、JSXでUIを書けるのも魅力的でした。\n\n```typescript\nimport { Hono } from 'hono'\n\nconst app = new Hono()\n\napp.get('/', (c) => c.text('Hello World!'))\n\nexport default app\n```\n\nたったこれだけでサーバーが立ち上がります。シンプルですよね。\n\n### HTMXとAlpine.js\n\nこのブログでは **HTMX** と **Alpine.js** も使っています。\n\n- **HTMX** - HTMLの属性だけでAJAXリクエストを実現。SPAのようなUXを、シンプルに。\n- **Alpine.js** - 軽量なリアクティブフレームワーク。ちょっとしたインタラクションに最適。\n\nどちらも「必要最小限」を体現したライブラリで、この構成の哲学にぴったりです。\n\n## これから書いていきたいこと\n\n1. **Cloudflare Workers** の活用Tips\n2. **Hono** のベストプラクティス\n3. フロントエンド開発の知見\n4. 個人開発のログ\n5. 読んだ技術書のメモ\n\n更新頻度は...がんばります（笑）\n\n---\n\n最後まで読んでいただきありがとうございます。何か質問やフィードバックがあれば、GitHubやX（Twitter）でお気軽にどうぞ。",
	"article-draft": "# Hono + Cloudflare Workersで作るモダンなポートフォリオサイト\n\n## はじめに\n\n今回、次世代のWebフレームワーク「Hono」とCloudflare Workersを使用して、シンプルでモダンなポートフォリオサイトを構築しました。\n\n**完成サイト**: https://portfolio-hono.hiro-genfuru0119.workers.dev\n**GitHub**: https://github.com/genfuru011/Portfolio-hono\n\n## なぜHono + Cloudflare Workersなのか？\n\n### Honoの魅力\n\n- **超高速**: エッジコンピューティングに最適化\n- **軽量**: 最小限のバンドルサイズ\n- **型安全**: TypeScript完全対応\n- **シンプル**: Express.jsライクな直感的API\n\n### Cloudflare Workersの利点\n\n- **グローバル配信**: 世界中のエッジサーバーから配信\n- **コスト効率**: 無料枠で十分な運用が可能\n- **コールドスタート**: ほぼゼロの起動時間\n- **セキュリティ**: 強固なセキュリティ機能\n\n## 技術構成\n\n```json\n{\n  \"framework\": \"Hono 4.8.12\",\n  \"styling\": \"Tailwind CSS (CDN)\",\n  \"language\": \"TypeScript\",\n  \"buildTool\": \"Vite\",\n  \"deployment\": \"Cloudflare Workers\",\n  \"imageHosting\": \"GitHub (raw URL)\"\n}\n```\n\n## 開発プロセス\n\n### 1. プロジェクトセットアップ\n\nまず、Honoプロジェクトの初期設定を行いました。\n\n```bash\nnpm create hono@latest portfolio-hono\ncd portfolio-hono\nnpm install\n```\n\npackage.jsonの設定：\n\n```json\n{\n  \"name\": \"hono-learning\",\n  \"type\": \"module\",\n  \"scripts\": {\n    \"dev\": \"wrangler dev\",\n    \"build\": \"wrangler deploy --dry-run\",\n    \"preview\": \"wrangler dev --local\",\n    \"deploy\": \"wrangler deploy\",\n    \"cf-typegen\": \"wrangler types --env-interface CloudflareBindings\"\n  },\n  \"dependencies\": {\n    \"@tailwindcss/vite\": \"^4.1.11\",\n    \"basecoat-css\": \"^0.3.1\",\n    \"hono\": \"^4.8.12\",\n    \"tailwindcss\": \"^4.1.11\"\n  },\n  \"devDependencies\": {\n    \"@cloudflare/vite-plugin\": \"^1.2.3\",\n    \"vite\": \"^6.3.5\",\n    \"wrangler\": \"^4.17.0\"\n  }\n}\n```\n\n### 2. UI/UXデザインの実装\n\nミニマルでプロフェッショナルなデザインを心がけました。メインコンポーネントの構造：\n\n```tsx\nconst App = () => {\n  return (\n    <div class=\"min-h-screen bg-white\">\n      <div class=\"max-w-4xl mx-auto px-6 py-16\">\n        <header class=\"text-center mb-16\">\n          <div class=\"mb-8\">\n            <img\n              src=\"https://raw.githubusercontent.com/genfuru011/Portfolio-hono/main/public/images/profile.jpg\"\n              alt=\"Hiroto Furugen\"\n              class=\"w-40 h-40 rounded-full mx-auto mb-8 object-cover shadow-lg\"\n            />\n          </div>\n          <h1 class=\"text-5xl font-normal text-gray-900 mb-8\">\n            Hiroto Furugen\n          </h1>\n          {/* Social Media Icons */}\n          <div class=\"flex justify-center space-x-6 mb-12\">\n            {/* アイコン群 */}\n          </div>\n        </header>\n        \n        <main class=\"max-w-3xl mx-auto\">\n          {/* Education & Experience Sections */}\n        </main>\n      </div>\n    </div>\n  );\n};\n```\n\n### 3. Cloudflare Workers対応\n\nCloudflare Workers環境に最適化するため、vite.config.tsを設定：\n\n```typescript\nimport { cloudflare } from \"@cloudflare/vite-plugin\";\nimport { defineConfig } from \"vite\";\nimport tailwindcss from \"@tailwindcss/vite\";\n\nexport default defineConfig({\n  plugins: [cloudflare(), tailwindcss()],\n});\n```\n\nwrangler.tomlの設定：\n\n```toml\nname = \"portfolio-hono\"\nmain = \"dist/index.js\"\ncompatibility_date = \"2024-01-01\"\ncompatibility_flags = [\"nodejs_compat\"]\n\n[build]\ncommand = \"npm run build\"\n\n[vars]\nNODE_ENV = \"production\"\n\n[env.production]\nname = \"portfolio-hono\"\n\n[env.development]\nname = \"portfolio-hono-dev\"\n```\n\n### 4. レンダラーの設定\n\nHTMLレンダリングとスタイリングを統合：\n\n```tsx\nimport { jsxRenderer } from \"hono/jsx-renderer\";\n\nexport const renderer = jsxRenderer(({ children }) => {\n  return (\n    <html>\n      <head>\n        <meta charset=\"UTF-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n        <title>Hiroto Furugen - Portfolio</title>\n        <script src=\"https://cdn.tailwindcss.com\"></script>\n        <style>{`\n          body {\n            background: #ffffff;\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Helvetica Neue\", Arial, sans-serif;\n            min-height: 100vh;\n            color: #1f2937;\n            line-height: 1.6;\n          }\n          /* カスタムスタイル */\n        `}</style>\n      </head>\n      <body class=\"min-h-screen py-8\">{children}</body>\n    </html>\n  );\n});\n```\n\n## 躓いたポイントと解決策\n\n### CSS配信の問題\n\n最初、vite-ssr-componentsを使用していましたが、Cloudflare Workers環境で正常に動作しませんでした。\n\n**問題**:\n```tsx\n// 動作しなかった設定\nimport { ViteClient } from \"vite-ssr-components/hono\";\n<link rel=\"stylesheet\" href=\"src/style.css\" />\n```\n\n**解決策**:\n```tsx\n// CDNとインラインスタイルで解決\n<script src=\"https://cdn.tailwindcss.com\"></script>\n<style>{`/* カスタムCSS */`}</style>\n```\n\n### R2統合の課題\n\n当初、プロフィール画像をCloudflare R2に保存する予定でしたが、バインディング設定で躓きました。\n\n**試行したR2設定**:\n```toml\n[[r2_buckets]]\nbinding = \"PORTFOLIO_ASSETS\"\nbucket_name = \"portfolio-assets\"\n```\n\n```typescript\ntype Bindings = {\n  PORTFOLIO_ASSETS: R2Bucket;\n};\n\napp.get(\"/images/*\", async (c) => {\n  const object = await c.env.PORTFOLIO_ASSETS.get(key);\n  // エラー: R2 bucket not configured\n});\n```\n\n**最終解決策**:\nGitHubのraw URLを使用することで、シンプルかつ安定した画像配信を実現：\n\n```tsx\n<img\n  src=\"https://raw.githubusercontent.com/genfuru011/Portfolio-hono/main/public/images/profile.jpg\"\n  alt=\"Profile\"\n  class=\"w-40 h-40 rounded-full mx-auto mb-8 object-cover shadow-lg\"\n/>\n```\n\n## デプロイメント\n\nデプロイは非常にシンプルです：\n\n```bash\n# 開発環境\nnpm run dev\n\n# ビルド確認\nnpm run build\n\n# 本番デプロイ\nnpm run deploy\n```\n\nデプロイ結果：\n```\nTotal Upload: 116.57 KiB / gzip: 27.48 KiB\nWorker Startup Time: 1 ms\nDeployed: https://portfolio-hono.hiro-genfuru0119.workers.dev\n```\n\n## パフォーマンス結果\n\n- **初回表示**: 200ms以下\n- **バンドルサイズ**: 116KB (gzip: 27KB)\n- **Worker起動時間**: 1ms\n- **グローバル配信**: 世界中のエッジサーバーから高速配信\n\n## プロジェクト構造\n\n```\nPortfolio-hono/\n├── public/\n│   └── images/\n│       └── profile.jpg\n├── src/\n│   ├── index.tsx          # メインアプリケーション\n│   └── renderer.tsx       # HTMLレンダラー\n├── package.json\n├── tsconfig.json\n├── vite.config.ts\n└── wrangler.toml          # Cloudflare Workers設定\n```\n\n## 今後の改善点\n\n1. **コンテンツ管理**: HeadlessCMSとの統合を検討\n2. **SEO最適化**: メタタグとstructured dataの追加\n3. **アナリティクス**: Cloudflare Analytics統合\n4. **多言語対応**: 国際化機能の実装\n5. **PWA対応**: Service Workerとマニフェストの追加\n\n## 学んだこと\n\n### Honoの印象\n\nHonoは本当に軽量で高速なフレームワークです。Express.jsに慣れた開発者なら、学習コストはほとんどありません。特にCloudflare Workersとの親和性は抜群で、エッジコンピューティングの恩恵を最大限に受けられます。\n\n### Cloudflare Workersの魅力\n\n従来のサーバーレス環境と比べて、コールドスタートがほぼゼロなのは驚きです。グローバル配信も自動的に行われるため、世界中のユーザーに高速なサイトを提供できます。\n\n### 開発体験\n\nTypeScriptの型安全性とHonoのシンプルなAPIにより、開発効率は非常に高いです。また、Wranglerによるローカル開発環境も本番環境に近い状態でテストできるため、デプロイ時の不安がありません。\n\n## まとめ\n\nHono + Cloudflare Workersの組み合わせは、モダンで高性能なWebアプリケーション構築に最適な選択肢です。特にポートフォリオサイトのような軽量なサイトには、そのメリットを十分に活かせます。\n\n無料枠でも十分な性能を発揮するため、個人プロジェクトや小規模なWebサイトに最適です。興味のある方は、ぜひリポジトリをforkして、自分だけのポートフォリオサイトを作ってみてください。\n\n**リポジトリ**: https://github.com/genfuru011/Portfolio-hono\n**デモサイト**: https://portfolio-hono.hiro-genfuru0119.workers.dev\n\n---\n\n*この記事が参考になりましたら、GitHubでスターを付けていただけると嬉しいです！*",
	"building-portfolio": "## なぜ作ったのか\n\nエンジニアとして活動していく上で、自分の経歴やスキルをまとめた場所が欲しいと思っていました。\n\n既存のサービス（Wantedly、LinkedIn など）も便利ですが、**自分でゼロから作る**ことで：\n\n- 技術力をアピールできる\n- 自由にカスタマイズできる\n- 新しい技術を試す実験場になる\n\nという利点があります。せっかくなら、作る過程も楽しみたいですよね。\n\n## 技術選定\n\n### アーキテクチャ概要\n\n```\n┌─────────────────────────────────────────┐\n│           Cloudflare Edge               │\n├─────────────────────────────────────────┤\n│  ┌─────────────────────────────────┐    │\n│  │      Hono Application           │    │\n│  │   (SSR with JSX Renderer)       │    │\n│  └─────────────────────────────────┘    │\n│                  │                       │\n│  ┌───────────────┴───────────────┐      │\n│  │         Static Assets         │      │\n│  │    (CSS, Images, Favicon)     │      │\n│  └───────────────────────────────┘      │\n└─────────────────────────────────────────┘\n```\n\n### Cloudflare Workers を選んだ理由\n\n| 特徴 | 説明 |\n|------|------|\n| **無料枠が充実** | 1日10万リクエストまで無料 |\n| **エッジコンピューティング** | ユーザーに近い場所で実行 |\n| **コールドスタートなし** | ほぼゼロの起動時間 |\n| **簡単デプロイ** | `wrangler deploy` 一発 |\n\n従来のサーバーレス（AWS Lambda など）と比べて、コールドスタートがほぼないのは大きなメリットです。\n\n### Hono を選んだ理由\n\n> Honoは「炎」を意味する日本語で、日本発のWebフレームワークです。\n\n```typescript\n// シンプルなAPI\napp.get('/api/posts', (c) => {\n  return c.json({ posts: getAllPosts() })\n})\n\n// JSXでUIを描画\napp.get('/', (c) => {\n  return c.render(<App />)\n})\n```\n\n**選定理由：**\n\n1. **TypeScript完全対応** - 型安全な開発ができる\n2. **JSXサポート** - Reactライクな書き方でUIを構築\n3. **超軽量** - バンドルサイズが小さい\n4. **Cloudflare最適化** - Workers向けに設計されている\n\n## 実装のポイント\n\n### 静的アセットの配信\n\nCloudflare Workersでは、`wrangler.toml` の `[assets]` 設定で静的ファイルを配信できます。\n\n```toml\n[assets]\ndirectory = \"./public\"\nbinding = \"ASSETS\"\n```\n\n```typescript\n// Honoで静的アセットをルーティング\napp.get('/images/*', (c) => c.env.ASSETS.fetch(c.req.raw))\napp.get('/tailwind.css', (c) => c.env.ASSETS.fetch(c.req.raw))\n```\n\n### CSSの配信\n\n最初はTailwind CDNを使っていましたが、本番では**ローカルビルド**に切り替えました。\n\n```bash\n# ビルドコマンド\ntailwindcss -i ./src/style.css -o ./public/tailwind.css --minify\n```\n\n理由：\n- CDN依存を減らせる\n- 未使用CSSを削除できる（ファイルサイズ削減）\n- オフライン環境でも開発できる\n\n### JSXレンダラー\n\nHonoのJSXレンダラーを使って、サーバーサイドでHTMLを生成しています。\n\n```tsx\n// renderer.tsx\nimport { jsxRenderer } from 'hono/jsx-renderer'\n\nexport const renderer = jsxRenderer(({ children }) => {\n  return (\n    <html lang=\"ja\">\n      <head>\n        <meta charSet=\"UTF-8\" />\n        <title>Portfolio</title>\n        <link rel=\"stylesheet\" href=\"/tailwind.css\" />\n      </head>\n      <body>{children}</body>\n    </html>\n  )\n})\n```\n\nクライアントサイドのJavaScriptは最小限に抑え、ほとんどの処理をサーバー側で行っています。\n\n## 躓いたポイント\n\n### 1. CSS配信の問題\n\nWorkers環境では、従来のWebサーバーのように `public/` フォルダを自動配信しません。明示的にルーティングを設定する必要がありました。\n\n### 2. 環境変数の扱い\n\nローカル開発と本番で環境変数の取得方法が微妙に異なり、最初は戸惑いました。`wrangler.toml` の `[vars]` セクションで統一的に管理するのがおすすめです。\n\n### 3. 画像の最適化\n\n現状は単純に画像を配信していますが、将来的にはCloudflare Imagesを使った最適化も検討しています。\n\n## パフォーマンス\n\nデプロイ後の結果：\n\n- **バンドルサイズ**: 約230KB（gzip: 56KB）\n- **Worker起動時間**: 1ms\n- **初回表示**: 200ms以下（東京リージョン）\n\nLighthouseスコアもほぼ満点に近い数値が出ています。\n\n## 今後の展望\n\n- [ ] ブログ機能の拡充（タグ、検索）\n- [ ] ダークモード対応\n- [ ] RSS/Atomフィード\n- [ ] OGP画像の動的生成\n- [ ] アクセス解析（Cloudflare Analytics）\n\n---\n\nポートフォリオサイトを作るのは、技術の勉強にもなりますし、何より楽しいです。興味のある方は、ぜひ自分だけのサイトを作ってみてください。",
	"architecture": "# ポートフォリオサイト アーキテクチャ概要\n\nこのドキュメントは、HonoとCloudflare Workersを基盤としたポートフォリオサイトのアーキテクチャについて説明します。\n\n## 1. アーキテクチャ図\n\n```mermaid\ngraph TD\n    subgraph \"User Client\"\n        A[User's Browser]\n    end\n\n    subgraph \"Cloudflare Network\"\n        B[Cloudflare Edge] --> C{Hono Application on Worker}\n        H[Static Assets (Wrangler [assets])]:::assets\n    end\n\n    subgraph \"Application Logic (on Worker)\"\n        C --> D[Renderer Middleware]\n        C --> E[App Component (JSX)]\n    end\n\n    A -- \"1. HTTPS Request\" --> B\n    D -- \"2. Renders HTML Shell\" --> C\n    E -- \"3. Renders Page Content\" --> C\n    C -- \"4. Returns HTML Response\" --> A\n    A -- \"5. Fetches /tailwind.css\" --> H\n    A -- \"6. Fetches /images/*\" --> H\n\n    classDef assets fill:#eef,stroke:#66f,stroke-width:1px\n```\n\n## 2. 主要コンポーネント\n\nこのプロジェクトは、シンプルさ、パフォーマンス、保守性を重視したコンポーネントで構成されています。\n\n### フレームワーク: Hono\n- **役割**: リクエストのルーティングとレスポンスの生成を担当するWebフレームワーク。\n- **採用理由**: 超高速かつ軽量で、Cloudflare Workersのようなエッジコンピューティング環境に最適化されています。Express.jsに似たAPIは学習コストが低く、開発効率を高めます。\n\n### 実行環境: Cloudflare Workers\n- **役割**: アプリケーションコードを実行するサーバーレスプラットフォーム。\n- **採用理由**: 世界中のエッジロケーションでコードを実行するため、ユーザーに最も近い場所からコンテンツを配信でき、非常に低遅延です。コールドスタートがほぼゼロである点も大きな利点です。\n\n### ビルドツール: Vite\n- **役割**: TypeScriptとJSXで書かれたソースコードを、Cloudflare Workersで実行可能な単一のJavaScriptファイルにバンドルします。\n- **採用理由**: `@cloudflare/vite-plugin` を利用することで、Cloudflare Workersへのデプロイプロセスを簡素化できます。高速なビルドとHMR（ホットリロード）により、快適な開発体験を提供します。\n\n### スタイリング: Tailwind CSS（ローカルビルド）\n- **役割**: サイトの見た目を定義します。\n- **採用理由**: Tailwind v4 を `@tailwindcss/cli` でローカルビルドし、生成された `public/tailwind.css` を Wrangler `[assets]` 経由で配信します。CDN 依存やインライン CSS は不要で、再現性とパフォーマンスを両立します。\n\n### アセット管理: Wrangler `[assets]`\n- **役割**: `public/` 配下の静的アセット（画像、`tailwind.css` など）を配信します。\n- **採用理由**: Worker から `c.env.ASSETS.fetch(c.req.raw)` で委譲することで、構成をシンプルに保ちながら高性能な静的配信を実現します。\n\n## 3. リクエストのライフサイクル\n\nユーザーがサイトにアクセスしてからページが表示されるまでの流れは以下の通りです。\n\n1.  **リクエスト**: ユーザーのブラウザがポートフォリオサイトのURLにHTTPSリクエストを送信します。\n2.  **エッジでの実行**: リクエストは最も近いCloudflareのエッジサーバーに到達し、デプロイされたHonoアプリケーション（Worker）を起動します。\n3.  **ミドルウェア処理**: Hono の `renderer` ミドルウェアが実行され、HTML の基本構造（`<html>`, `<head>`, `<body>`）、およびローカル CSS（`/tailwind.css`）の `<link>` を含む骨格を準備します。\n4.  **コンテンツレンダリング**: ルートハンドラ（`/`）が `App` コンポーネント（JSX）をSSRし、コンテンツ（プロフィール、経歴など）を生成します。\n5.  **レスポンス**: レンダリング結果を含む HTML を返却します。\n6.  **ブラウザでの処理**: ブラウザは受け取ったHTMLを解釈し、`/tailwind.css` と `/images/*` を ASSETS（`public/`）から取得してページを完成させます。",
	"css-serving-issues": "# Cloudflare WorkersでのCSS配信問題：詳細解説\n\n## 問題の概要\n\nCloudflare Workersにデプロイする際、従来のWebサーバーとは異なり、静的ファイル（CSS、JS、画像など）の配信方法に制限があります。この記事では、実際に遭遇したCSS配信の問題と解決策について詳しく解説します。\n\n## 従来のWebサーバーとの違い\n\n### 一般的なWebサーバー（Express.js、Next.js等）\n```\nproject/\n├── public/\n│   ├── styles.css\n│   └── images/\n├── src/\n│   └── index.js\n└── package.json\n```\n\n一般的なWebサーバーでは、`public`フォルダ内のファイルは自動的に静的ファイルとして配信されます：\n\n```javascript\n// Express.jsの例\napp.use(express.static('public'));\n// http://localhost:3000/styles.css でアクセス可能\n```\n\n### Cloudflare Workersの制約\n\nCloudflare Workersは**エッジコンピューティング環境**で動作するため：\n\n1. **ファイルシステムへのアクセス不可**\n2. **静的ファイルの自動配信なし**\n3. **すべてのリクエストがWorkerコードを通る**\n\n## 実際に遭遇した問題\n\n### 初期設定（動作しなかった例）\n\n最初は`vite-ssr-components`を使用してCSS配信を試みました：\n\n```tsx\n// renderer.tsx\nimport { jsxRenderer } from \"hono/jsx-renderer\";\nimport { ViteClient } from \"vite-ssr-components/hono\";\n\nexport const renderer = jsxRenderer(({ children }) => {\n  return (\n    <html>\n      <head>\n        <ViteClient />\n        <link rel=\"stylesheet\" href=\"src/style.css\" />\n      </head>\n      <body>{children}</body>\n    </html>\n  );\n});\n```\n\n**問題点**:\n- `ViteClient`がCloudflare Workers環境で正常に動作しない\n- `src/style.css`へのリンクが404エラーを返す\n- 静的ファイルが配信されない\n\n### デプロイ時の状況\n\n```bash\nnpm run deploy\n```\n\nデプロイ後、ブラウザの開発者ツールで確認すると：\n\n```\nGET https://portfolio-hono.workers.dev/src/style.css\nStatus: 404 Not Found\n```\n\n**なぜ404になるのか？**\n\nCloudflare Workersでは：\n1. `src/style.css`ファイルはWorkerのバンドルに含まれない\n2. 静的ファイルを配信するルートが設定されていない\n3. Honoアプリケーションが該当パスのハンドラーを持たない\n\n## 解決策の検討\n\n### 1. Cloudflare Workers Static Assets（試行）\n\n```toml\n# wrangler.toml\n[assets]\ndirectory = \"./public\"\nbinding = \"ASSETS\"\n```\n\n```typescript\n// Honoでの静的ファイル配信\napp.get(\"/assets/*\", async (c) => {\n  const url = new URL(c.req.url);\n  const assetPath = url.pathname.replace(\"/assets/\", \"\");\n  \n  // ASSETS binding を使用してファイルを取得\n  const asset = await c.env.ASSETS.fetch(c.req.url);\n  return asset;\n});\n```\n\n**問題**: 設定が複雑で、CSS配信のためだけには過度な設定\n\n### 2. R2 Object Storage（試行）\n\n```typescript\n// R2を使用したCSS配信\napp.get(\"/styles/*\", async (c) => {\n  const key = c.req.param(\"*\");\n  const object = await c.env.R2_BUCKET.get(key);\n  \n  if (!object) {\n    return c.notFound();\n  }\n  \n  return new Response(object.body, {\n    headers: {\n      \"Content-Type\": \"text/css\",\n    },\n  });\n});\n```\n\n**問題**: \n- R2バインディングの設定エラー\n- CSS配信のためにオブジェクトストレージを使うのは過度\n\n### 3. CDN + インライン化（採用した解決策）\n\n最終的に採用した解決策：\n\n```tsx\n// renderer.tsx\nexport const renderer = jsxRenderer(({ children }) => {\n  return (\n    <html>\n      <head>\n        <meta charset=\"UTF-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n        <title>Hiroto Furugen - Portfolio</title>\n        {/* CDNからTailwind CSSを読み込み */}\n        <script src=\"https://cdn.tailwindcss.com\"></script>\n        {/* カスタムCSSをインライン化 */}\n        <style>{`\n          body {\n            background: #ffffff;\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Helvetica Neue\", Arial, sans-serif;\n            min-height: 100vh;\n            color: #1f2937;\n            line-height: 1.6;\n          }\n\n          * {\n            transition: all 0.2s ease;\n          }\n\n          h1 {\n            font-weight: 300;\n            letter-spacing: -0.02em;\n            line-height: 1.2;\n          }\n\n          a:hover svg {\n            transform: translateY(-1px);\n          }\n        `}</style>\n      </head>\n      <body class=\"min-h-screen py-8\">{children}</body>\n    </html>\n  );\n});\n```\n\n## なぜこの解決策が最適なのか？\n\n### 1. **確実性**\n- 外部リクエストに依存しない\n- HTMLに直接埋め込まれるため、必ず配信される\n\n### 2. **パフォーマンス**\n- 追加のHTTPリクエストが不要\n- CDNからのTailwind CSS読み込みは高速\n\n### 3. **シンプルさ**\n- 複雑な設定が不要\n- Cloudflare Workers特有の制約を回避\n\n### 4. **保守性**\n- CSSとコンポーネントが同じファイルに存在\n- 依存関係の管理が簡単\n\n## パフォーマンスへの影響\n\n### Before（CSS配信なし）\n```\n- 初回表示: スタイルなし（FOUC発生）\n- ファイルサイズ: 110KB\n- リクエスト数: 1\n```\n\n### After（インライン化）\n```\n- 初回表示: 200ms以下（スタイル適用済み）\n- ファイルサイズ: 116KB（+6KB）\n- リクエスト数: 1 + CDN（並列）\n```\n\nわずか6KBの増加で、確実なスタイル配信を実現しました。\n\n## 他の解決策との比較\n\n| 方法 | 設定複雑度 | パフォーマンス | 確実性 | 保守性 |\n|------|------------|----------------|--------|--------|\n| 静的ファイル配信 | 高 | 良い | 中 | 中 |\n| R2 Object Storage | 高 | 良い | 中 | 低 |\n| **インライン化** | **低** | **優秀** | **高** | **高** |\n| 外部CSS | 低 | 中 | 低 | 中 |\n\n## 学んだこと\n\n### Cloudflare Workersの特徴を理解する\n\n1. **エッジコンピューティング環境**: 従来のサーバーとは異なる制約\n2. **ファイルシステムなし**: 静的ファイルの概念が異なる\n3. **すべてがコード**: リクエスト処理はすべてJavaScriptコードで制御\n\n### 解決策の選択基準\n\n1. **要件に対する適切性**: 過度に複雑な解決策は避ける\n2. **保守性**: 長期的に維持しやすい方法を選ぶ\n3. **パフォーマンス**: ユーザー体験を最優先に考える\n\n## まとめ\n\nCloudflare WorkersでのCSS配信問題は、プラットフォームの特性を理解することで適切に解決できます。今回の経験から、**シンプルで確実な解決策（インライン化）** が最も実用的であることが分かりました。\n\nエッジコンピューティング環境では、従来のWebサーバーの常識を一度忘れ、プラットフォーム固有の制約と利点を理解することが重要です。\n\n---\n\n**関連資料**:\n- [Cloudflare Workers Documentation](https://developers.cloudflare.com/workers/)\n- [Hono Documentation](https://hono.dev/)\n- [プロジェクトリポジトリ](https://github.com/genfuru011/Portfolio-hono)",
	"dev-notes": "# 開発ノート\n\n- 作成日: 2025-11-03\n- 対象: Portfolio-hono（Cloudflare Workers + Hono）\n\n## 現状サマリ\n- Hono + Cloudflare Workers で SSR（`hono/jsx-renderer`）を使用。\n- 静的アセットは Wrangler `[assets]` で `public/` から配信（`ASSETS` バインディング）。\n- Tailwind CSS v4 はローカルビルド（`src/style.css` → `public/tailwind.css`）。\n- Lint/Format は Biome。ビルド生成物は `biome.json` で除外。\n- README / アーキテクチャノートの一部が現行構成（ローカルCSS/ローカル画像）と不整合。\n\n## 主要ファイル\n- wrangler.toml: エントリ `main = \"src/index.tsx\"`、`[assets]`、`[build] command = \"npm run build:css\"`。\n- src/index.tsx: Hono アプリ、`/`, `/images/*`, `/tailwind.css` など ASSETS 委譲。\n- src/renderer.tsx: `<link rel=\"stylesheet\" href=\"/tailwind.css\" />`。\n- src/style.css: `@import \"tailwindcss\";`。\n- public/: `tailwind.css`, 画像、`favicon.ico`。\n- package.json: `wrangler dev` / `deploy` 等のスクリプト、Biome スクリプト。\n\n## よく使うコマンド\n- 開発: `npm run dev`（Wrangler dev）\n- ローカルプレビュー: `npm run preview`\n- デプロイ: `npm run deploy`\n- CSS ビルド: `npm run build:css`\n- Lint: `npm run lint` / 自動修正: `npm run lint:fix` / フォーマット: `npm run format`\n\n## ドキュメントの不整合（要修正）\n- README.md の記述が「Tailwind CDN / GitHub Raw 画像」前提になっている箇所あり。現状はローカル配信。\n- note/architecture.md も同様に CDN/外部画像前提の図解・説明が残存。\n- 開発ポートの案内（README は `5173` を記載）が Wrangler dev の実ポート（例: `8787`）と不一致の可能性。\n\n## 技術的メモ / 改善候補\n- 依存整理: `unocss`, `@unocss/cli` は現状未使用の可能性が高い。削除検討。\n- `vite-ssr-components` は使用実態の再確認（不要なら削除）。\n- `package.json` に `engines` で Node バージョン明記検討（開発ツール用）。\n- SEO 強化: OG/Twitter メタ、JSON-LD、`robots.txt`/`sitemap.xml` 追加検討。\n- アクセシビリティ: 主要セクションの見出し構造の妥当性再確認、画像の代替テキスト最適化。\n\n## 次アクション（提案）\n1) README.md と note/architecture.md を現行構成へ更新。\n2) 未使用依存（UnoCSS など）を削除し、スクリプトも整理。\n3) SEO/アクセシビリティの基本メタを追加（タイトル/ディスクリプション/OG/Twitter）。\n4) CI で Biome Lint/Format/Typecheck を実行するワークフローを追加（要 GitHub Actions）。\n5) 変更が軽微なうちに `src/index.tsx` の文面・日付（経験の期間など）を棚卸し。\n\n## 決定・ログ（随時追記）\n- 2025-11-03: リポジトリ現状レビューとノート初版作成。\n- 2025-11-03: 未使用依存 `unocss`, `@unocss/cli` を `package.json` から削除。\n- 2025-11-03: 未使用 `vite-ssr-components`, `@tailwindcss/vite` を削除。`vite.config.ts` からプラグイン除去。\n- 2025-11-03: `pnpm-lock.yaml` を削除（パッケージマネージャは npm を前提）。",
};

export function getAllPosts(): PostMeta[] {
	return postsData;
}

export function getPostBySlug(slug: string): Post | null {
	const postMeta = postsData.find((p) => p.slug === slug);
	if (!postMeta) return null;

	const markdown = markdownContents[slug];
	if (!markdown) return null;

	return {
		...postMeta,
		content: marked(markdown) as string,
	};
}
